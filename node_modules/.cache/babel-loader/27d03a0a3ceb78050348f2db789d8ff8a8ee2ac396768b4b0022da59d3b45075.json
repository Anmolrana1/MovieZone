{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nexport const GetMovie = createAsyncThunk(\"GetMovie/ALL\", async (data, {\n  rejectWithValue\n}) => {\n  const response = await fetch(\"https://api.themoviedb.org/3/movie/popular?api_key=4e44d9029b1270a757cddc766a1bcb63&language=en-US\");\n  try {\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\nexport const GetPopularMovie = createAsyncThunk(\"GetMovie/popular\", async (data, {\n  rejectWithValue\n}) => {\n  console.log(\"data.type\", data.type);\n  const response = await fetch(`https://api.themoviedb.org/3/movie/${data.type ? data.type : \"popular\"}?api_key=4e44d9029b1270a757cddc766a1bcb63&language=en-US`);\n  try {\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\nexport const GetMovieById = createAsyncThunk(\"GetMovieById\", async (data, {\n  rejectWithValue\n}) => {\n  const response = await fetch(`https://api.themoviedb.org/3/movie/${data.id}?api_key=4e44d9029b1270a757cddc766a1bcb63&language=en-US`);\n  try {\n    const result = await response.json();\n    console.log(result);\n    return result;\n  } catch (error) {\n    return rejectWithValue(error);\n  }\n});\nexport const MovieData = createSlice({\n  name: \"MovieData\",\n  initialState: {\n    movies: [],\n    movieType: [],\n    searchData: [],\n    movieById: [],\n    watchLater: [],\n    loding: false,\n    error: null\n  },\n  reducers: {\n    serachMovie: (state, action) => {\n      state.searchData = action.payload;\n    },\n    watchLater: (state, action) => {\n      const movieToAdd = action.payload;\n      const filteredWatchLater = state.watchLater.filter(movie => movie.id !== movieToAdd.id);\n      state.watchLater = [...filteredWatchLater, movieToAdd];\n      localStorage.setItem('watchLater', JSON.stringify(state.watchLater));\n    }\n  },\n  extraReducers: {\n    [GetMovie.pending]: state => {\n      state.loding = true;\n    },\n    [GetMovie.fulfilled]: (state, action) => {\n      state.movies = action.payload.results;\n      state.loding = false;\n    },\n    [GetMovie.rejected]: (state, action) => {\n      state.error = action.error;\n      state.loding = false;\n    },\n    [GetPopularMovie.pending]: state => {\n      state.loding = true;\n    },\n    [GetPopularMovie.fulfilled]: (state, action) => {\n      state.movieType = action.payload.results;\n      console.log(\"state.movieType\", action.payload);\n      state.loding = false;\n    },\n    [GetPopularMovie.rejected]: (state, action) => {\n      state.error = action.error;\n      state.loding = false;\n    },\n    [GetMovieById.pending]: state => {\n      state.loding = true;\n    },\n    [GetMovieById.fulfilled]: (state, action) => {\n      state.movieById = action.payload;\n      console.log(\"state.GetMovieById\", action.payload);\n      state.loding = false;\n    },\n    [GetMovieById.rejected]: (state, action) => {\n      state.error = action.error;\n      state.loding = false;\n    }\n  }\n});\nexport default MovieData.reducer;\nexport const {\n  serachMovie,\n  watchLater\n} = MovieData.actions;","map":{"version":3,"names":["createSlice","createAsyncThunk","GetMovie","data","rejectWithValue","response","fetch","result","json","console","log","error","GetPopularMovie","type","GetMovieById","id","MovieData","name","initialState","movies","movieType","searchData","movieById","watchLater","loding","reducers","serachMovie","state","action","payload","movieToAdd","filteredWatchLater","filter","movie","localStorage","setItem","JSON","stringify","extraReducers","pending","fulfilled","results","rejected","reducer","actions"],"sources":["C:/Users/dell/Desktop/projects/movie-selector/src/Reducers/MovieReducer.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\nexport const GetMovie=createAsyncThunk(\"GetMovie/ALL\",async(data,{rejectWithValue})=>{\r\n          const response = await fetch(\"https://api.themoviedb.org/3/movie/popular?api_key=4e44d9029b1270a757cddc766a1bcb63&language=en-US\");\r\n          try {\r\n            const result = await response.json();\r\n            console.log(result);\r\n            return result;\r\n          } catch (error) {\r\n            return rejectWithValue(error);\r\n          }\r\n        }\r\n      );\r\nexport const GetPopularMovie=createAsyncThunk(\"GetMovie/popular\",async(data,{rejectWithValue})=>{\r\n  console.log(\"data.type\",data.type);\r\n  const response = await fetch(`https://api.themoviedb.org/3/movie/${data.type ? data.type : \"popular\"}?api_key=4e44d9029b1270a757cddc766a1bcb63&language=en-US`);\r\n        try {\r\n          const result = await response.json();\r\n          console.log(result);\r\n          return result;\r\n        } catch (error) {\r\n          return rejectWithValue(error);\r\n        }\r\n      }\r\n    );\r\nexport const GetMovieById=createAsyncThunk(\"GetMovieById\",async(data,{rejectWithValue})=>{\r\n  const response=await fetch(`https://api.themoviedb.org/3/movie/${data.id}?api_key=4e44d9029b1270a757cddc766a1bcb63&language=en-US`);\r\n  try {\r\n    const result = await response.json();\r\n    console.log(result);\r\n    return result;\r\n  } catch (error) {\r\n    return rejectWithValue(error);\r\n  }\r\n})\r\nexport const MovieData = createSlice({\r\nname:\"MovieData\",\r\ninitialState:{\r\n    movies:[],\r\n    movieType:[],\r\n    searchData:[],\r\n    movieById:[],\r\n    watchLater:[],\r\n    loding:false,\r\n    error:null,\r\n},\r\nreducers:{\r\n  serachMovie:(state,action)=>{\r\n    state.searchData=action.payload;\r\n  },\r\n  watchLater:(state,action)=>{\r\n    const movieToAdd = action.payload;\r\n    const filteredWatchLater = state.watchLater.filter(movie => movie.id !== movieToAdd.id);\r\n    state.watchLater = [...filteredWatchLater, movieToAdd];\r\n    localStorage.setItem('watchLater', JSON.stringify(state.watchLater));\r\n  }\r\n\r\n},\r\nextraReducers:{\r\n    [GetMovie.pending]:(state)=>{\r\n        state.loding=true;\r\n    },\r\n    [GetMovie.fulfilled]:(state,action)=>{\r\n        state.movies=action.payload.results;\r\n        state.loding=false;\r\n    },\r\n    [GetMovie.rejected]:(state,action)=>{\r\n        state.error=action.error;\r\n        state.loding=false;\r\n    },\r\n    [GetPopularMovie.pending]:(state)=>{\r\n      state.loding=true;\r\n    },\r\n    [GetPopularMovie.fulfilled]:(state,action)=>{\r\n        state.movieType=action.payload.results;\r\n        console.log(\"state.movieType\",action.payload);\r\n        state.loding=false;\r\n    },\r\n    [GetPopularMovie.rejected]:(state,action)=>{\r\n        state.error=action.error;\r\n        state.loding=false;\r\n    },\r\n    [GetMovieById.pending]:(state)=>{\r\n      state.loding=true;\r\n    },\r\n    [GetMovieById.fulfilled]:(state,action)=>{\r\n        state.movieById=action.payload;\r\n        console.log(\"state.GetMovieById\",action.payload);\r\n        state.loding=false;\r\n    },\r\n    [GetMovieById.rejected]:(state,action)=>{\r\n        state.error=action.error;\r\n        state.loding=false;\r\n    },\r\n}\r\n  \r\n});\r\nexport default MovieData.reducer;\r\nexport const {serachMovie,watchLater}=MovieData.actions;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}